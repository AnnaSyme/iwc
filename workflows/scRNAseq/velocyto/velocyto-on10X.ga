{
    "a_galaxy_workflow": "true",
    "annotation": "Run velocyto to get loom with counts of spliced and unspliced",
    "creator": [
        {
            "class": "Person",
            "identifier": "https://orcid.org/0000-0002-1964-4960",
            "name": "Lucille Delisle"
        }
    ],
    "format-version": "0.1",
    "license": "MIT",
    "release": "0.1",
    "name": "Velocyto_on10X",
    "steps": {
        "0": {
            "annotation": "This can be output of CellRanger or STARsolo",
            "content_id": null,
            "errors": null,
            "id": 0,
            "input_connections": {},
            "inputs": [
                {
                    "description": "This can be output of CellRanger or STARsolo",
                    "name": "BAM files with CB and UB"
                }
            ],
            "label": "BAM files with CB and UB",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
                "left": 0,
                "top": 0.0
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": \"\", \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "043d198b-3af0-477d-be11-5d1373280379",
            "when": null,
            "workflow_outputs": []
        },
        "1": {
            "annotation": "gtf file",
            "content_id": null,
            "errors": null,
            "id": 1,
            "input_connections": {},
            "inputs": [
                {
                    "description": "gtf file",
                    "name": "gtf file"
                }
            ],
            "label": "gtf file",
            "name": "Input dataset",
            "outputs": [],
            "position": {
                "left": 36,
                "top": 99.0
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": \"\"}",
            "tool_version": null,
            "type": "data_input",
            "uuid": "f1d04259-f449-44d7-8d36-49f3ad664361",
            "when": null,
            "workflow_outputs": []
        },
        "2": {
            "annotation": "Whether you provide a list:list with a list per sample with matrix,barcodes,genes (set to true) or a list with one tabular per sample (set to false)",
            "content_id": null,
            "errors": null,
            "id": 2,
            "input_connections": {},
            "inputs": [
                {
                    "description": "Whether you provide a list:list with a list per sample with matrix,barcodes,genes (set to true) or a list with one tabular per sample (set to false)",
                    "name": "provide filtered matrices in bundle instead of collection of filtered barcodes"
                }
            ],
            "label": "provide filtered matrices in bundle instead of collection of filtered barcodes",
            "name": "Input parameter",
            "outputs": [],
            "position": {
                "left": 78,
                "top": 170.0
            },
            "tool_id": null,
            "tool_state": "{\"parameter_type\": \"boolean\", \"optional\": false}",
            "tool_version": null,
            "type": "parameter_input",
            "uuid": "8ff0e312-8840-4482-adf4-29d279706484",
            "when": null,
            "workflow_outputs": []
        },
        "3": {
            "annotation": "This can be output of STARsolo or DropletUtils",
            "content_id": null,
            "errors": null,
            "id": 3,
            "input_connections": {},
            "inputs": [
                {
                    "description": "This can be output of STARsolo or DropletUtils",
                    "name": "filtered barcodes or filtered matrices in bundle"
                }
            ],
            "label": "filtered barcodes or filtered matrices in bundle",
            "name": "Input dataset collection",
            "outputs": [],
            "position": {
                "left": 155,
                "top": 305.0
            },
            "tool_id": null,
            "tool_state": "{\"optional\": false, \"tag\": \"\", \"collection_type\": \"list\"}",
            "tool_version": null,
            "type": "data_collection_input",
            "uuid": "03b0d22c-3b46-4460-8c18-b524bc09d655",
            "when": null,
            "workflow_outputs": []
        },
        "4": {
            "annotation": "",
            "content_id": "__APPLY_RULES__",
            "errors": null,
            "id": 4,
            "input_connections": {
                "input": {
                    "id": 3,
                    "output_name": "output"
                },
                "when": {
                    "id": 2,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool Apply rules",
                    "name": "input"
                }
            ],
            "label": "extract barcodes from bundle",
            "name": "Apply rules",
            "outputs": [
                {
                    "name": "output",
                    "type": "input"
                }
            ],
            "position": {
                "left": 426,
                "top": 270.5
            },
            "post_job_actions": {
                "HideDatasetActionoutput": {
                    "action_arguments": {},
                    "action_type": "HideDatasetAction",
                    "output_name": "output"
                }
            },
            "tool_id": "__APPLY_RULES__",
            "tool_state": "{\"input\": {\"__class__\": \"RuntimeValue\"}, \"rules\": {\"mapping\": [{\"columns\": [0], \"editing\": false, \"type\": \"list_identifiers\"}], \"rules\": [{\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier0\", \"warn\": null}, {\"error\": null, \"type\": \"add_column_metadata\", \"value\": \"identifier1\", \"warn\": null}, {\"error\": null, \"invert\": false, \"target_column\": 1, \"type\": \"add_filter_matches\", \"value\": \"barcodes\", \"warn\": null}]}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "1.1.0",
            "type": "tool",
            "uuid": "8c2d032f-596c-4315-8361-ebf1ec2eb655",
            "when": "$(inputs.when)",
            "workflow_outputs": []
        },
        "5": {
            "annotation": "",
            "content_id": "pick_value",
            "errors": null,
            "id": 5,
            "input_connections": {
                "style_cond|type_cond|pick_from_0|value": {
                    "id": 4,
                    "output_name": "output"
                },
                "style_cond|type_cond|pick_from_1|value": {
                    "id": 3,
                    "output_name": "output"
                }
            },
            "inputs": [],
            "label": "Get collection of filtered barcodes",
            "name": "Pick parameter value",
            "outputs": [
                {
                    "name": "data_param",
                    "type": "data"
                }
            ],
            "position": {
                "left": 689,
                "top": 172.0
            },
            "post_job_actions": {
                "ChangeDatatypeActiondata_param": {
                    "action_arguments": {
                        "newtype": "tabular"
                    },
                    "action_type": "ChangeDatatypeAction",
                    "output_name": "data_param"
                }
            },
            "tool_id": "pick_value",
            "tool_state": "{\"style_cond\": {\"pick_style\": \"first\", \"__current_case__\": 0, \"type_cond\": {\"param_type\": \"data\", \"__current_case__\": 4, \"pick_from\": [{\"__index__\": 0, \"value\": {\"__class__\": \"RuntimeValue\"}}, {\"__index__\": 1, \"value\": {\"__class__\": \"RuntimeValue\"}}]}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.1.0",
            "type": "tool",
            "uuid": "6a2424f4-3ddd-4988-bf47-cf4d9ceb0fc2",
            "when": null,
            "workflow_outputs": []
        },
        "6": {
            "annotation": "",
            "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/velocyto_cli/velocyto_cli/0.17.17+galaxy1",
            "errors": null,
            "id": 6,
            "input_connections": {
                "main|BAM": {
                    "id": 0,
                    "output_name": "output"
                },
                "main|barcodes": {
                    "id": 5,
                    "output_name": "data_param"
                },
                "main|gtffile": {
                    "id": 1,
                    "output_name": "output"
                }
            },
            "inputs": [
                {
                    "description": "runtime parameter for tool velocyto CLI",
                    "name": "main"
                },
                {
                    "description": "runtime parameter for tool velocyto CLI",
                    "name": "main"
                }
            ],
            "label": "velocyto",
            "name": "velocyto CLI",
            "outputs": [
                {
                    "name": "samples",
                    "type": "loom"
                }
            ],
            "position": {
                "left": 1085,
                "top": 39.0
            },
            "post_job_actions": {},
            "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/velocyto_cli/velocyto_cli/0.17.17+galaxy1",
            "tool_shed_repository": {
                "changeset_revision": "883c33ef3372",
                "name": "velocyto_cli",
                "owner": "iuc",
                "tool_shed": "toolshed.g2.bx.psu.edu"
            },
            "tool_state": "{\"main\": {\"do\": \"run10x\", \"__current_case__\": 0, \"sample_definition\": {\"sample_definition_select\": \"identifier\", \"__current_case__\": 1}, \"BAM\": {\"__class__\": \"ConnectedValue\"}, \"barcodes\": {\"__class__\": \"ConnectedValue\"}, \"gtffile\": {\"__class__\": \"ConnectedValue\"}, \"s\": {\"__class__\": \"RuntimeValue\"}, \"m\": {\"__class__\": \"RuntimeValue\"}, \"M\": false, \"t\": \"uint16\"}, \"verbosity\": \"-vv\", \"__page__\": null, \"__rerun_remap_job_id__\": null}",
            "tool_version": "0.17.17+galaxy1",
            "type": "tool",
            "uuid": "f9aef50f-b31d-44dd-aad6-fe4d520e3b1e",
            "when": null,
            "workflow_outputs": [
                {
                    "label": "velocyto loom",
                    "output_name": "samples",
                    "uuid": "2899a85c-c198-436f-a409-9bfbdf90c95f"
                }
            ]
        }
    },
    "tags": [
        "#single-cell"
    ],
    "uuid": "f0e3094f-e648-4427-a66b-0d3ed20a0167",
    "version": 2
}